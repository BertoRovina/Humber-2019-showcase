<!--GET Product section-->

<div *ngIf="location == '/get-page'">
  <div class="form-group">
    <h3>Search Method:</h3>
    <form>
      <input type="radio" name="searchMethod" value="byId" checked (click)="setById(true)"> By Id<br>
      <input type="radio" name="searchMethod" value="byPage" (click)="setById(false)"> By Page<br>
    </form>
  </div>

  <form *ngIf="isById()" id="formById">
    <div class="form-group">
      <label for="productId">Product Id:</label>
      <input class="form-control" id="productId" #productId />
    </div>
    <button (click)="searchById(productId.value)">
      Search
    </button>
  </form>

  <form *ngIf="!isById()" id="formAdvanced">
    <div class="form-group">
      <label for="productId">Pages:</label>
      <input class="form-control" id="page" #pages />
    </div>
    <div class="form-group">
      <label for="productId">Lines per Page:</label>
      <input class="form-control" id="linesPerPage" #linesPerPage />
    </div>
    <div class="form-group">
      <label for="productId">Order by:</label>
      <select class="form-control" id="orderBy" #orderBy>
        <option *ngFor="let obj of orderByOptions" [value]="obj">{{obj}}</option>
      </select>
      <label for="productId">Direction:</label>
      <select class="form-control" id="direction" #direction>
        <option *ngFor="let obj of directionOptions" [value]="obj">{{obj}}</option>
      </select>
    </div>
    <button  (click)="searchAdvanced(pages.value, linesPerPage.value, orderBy.value, direction.value)">
      Search
    </button>
  </form>

  <div *ngIf="product">
    <h3>Product found:</h3>
    <ul>
      <li>Product Id: {{ product.id || -1 }}</li>
      <li>Product Name: {{product.name}}</li>
      <li>Product Price: {{product.price}}</li>
    </ul>
  </div>

  <div *ngIf="page">
    <h3>Products found:</h3>
    <ul>
      <li *ngFor="let product of page.content">
        <ul>
          <li>Product Id: {{product.id}}</li>
          <li>Product Name: {{product.name}}</li>
          <li>Product Price: {{product.price}}</li>
        </ul>
      </li>
    </ul>
  </div>
</div>

<!--POST Product section-->

<div *ngIf="location == '/post-page'">
  <div class="form-group">
    <h3>Add new Product:</h3>
    <form>
      <div class="form-group">
        <label for="newProductName">Product Name:</label>
        <input class="form-control" id="newProductName" #newProductName />
      </div>
      <!-- (click) passes input value to add() and then clears the input -->
      <button (click)="add(newProductName.value)">
        Add Product
      </button>
    </form>
  </div>
</div>

<!--PUT Product section-->

<div *ngIf="location == '/put-page'">
  <div class="form-group">
    <h3>Edit Product:</h3>
    <form>
      <div class="form-group">
        <label for="updateProductId">Product ID:</label>
        <input class="form-control" id="updateProductId" #updateProductId />
      </div>
      <button (click)="searchById(updateProductId.value)">
        Search Product
      </button>
      <div *ngIf="product" class="form-group">
        <div class="form-group">
          <label for="updateProductName">Product Name:</label>
          <input class="form-control" id="updateProductName" #updateProductName [defaultValue]="product.name"/>
        </div>

        <button (click)="update(updateProductName.value)">
          Update Product
        </button>
      </div>

    </form>
  </div>
</div>

<!--DEL Product section-->

<div *ngIf="location == '/del-page'">
  <div class="form-group">
    <h3>Delete a Product:</h3>
    <form>
      <div class="form-group">
        <label for="delProductId">Product Id:</label>
        <input type="number" class="form-control" id="delProductId" #delProductId />
      </div>
      <button (click)="delete(delProductId.value)">
        Delete Product
      </button>
    </form>
  </div>
</div>
